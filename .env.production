# =========================
# Production Environment Configuration
# =========================

# =========================
# App
# =========================
NODE_ENV=production
PORT=3000
APP_NAME=ASE School Backend
APP_URL=http://13.205.34.169:3000
SWAGGER_PATH=api/docs

# =========================
# Security - CHANGE THESE!
# =========================
JWT_ACCESS_SECRET=CHANGE_ME_TO_VERY_LONG_RANDOM_STRING_access_secret
JWT_REFRESH_SECRET=CHANGE_ME_TO_VERY_LONG_RANDOM_STRING_refresh_secret
JWT_ACCESS_EXPIRES_IN=15m
JWT_REFRESH_EXPIRES_IN=30d

# bcrypt cost (higher for production)
BCRYPT_SALT_ROUNDS=12

# Rate limit (Throttler)
THROTTLE_TTL_SECONDS=60
THROTTLE_LIMIT=100

# =========================
# Database (PostgreSQL) - Lightsail
# =========================
DB_HOST=postgres  # Docker service name
DB_PORT=5432
DB_USERNAME=postgres
DB_USER=postgres
DB_PASSWORD=CHANGE_ME_STRONG_DB_PASSWORD  # Use a strong password
DB_NAME=ase_school
DB_SYNCHRONIZE=false
DB_LOGGING=false

# =========================
# Redis
# =========================
REDIS_HOST=redis  # Docker service name
REDIS_PORT=6379
REDIS_PASSWORD=CHANGE_ME_REDIS_PASSWORD  # Set a Redis password
REDIS_DB=0
REDIS_TLS=false

# =========================
# Firebase Admin (FCM)
# =========================
# Use the service account file method for production
FIREBASE_SERVICE_ACCOUNT_PATH=./secrets/firebase-service-account.json

# =========================
# Cloudflare R2 (S3 compatible)
# =========================
R2_ACCOUNT_ID=your_r2_account_id
R2_ACCESS_KEY_ID=your_r2_access_key
R2_SECRET_ACCESS_KEY=your_r2_secret_key
R2_BUCKET=ase-school-prod
R2_PUBLIC_BASE_URL=https://your-r2-domain.com
R2_ENDPOINT=https://your_account_id.r2.cloudflarestorage.com
R2_REGION=auto

# =========================
# Email (Production SMTP)
# =========================
MAIL_FROM_NAME=ASE School
MAIL_FROM_EMAIL=no-reply@your-domain.com
SMTP_HOST=smtp.your-email-provider.com
SMTP_PORT=587
SMTP_USER=your_smtp_username
SMTP_PASS=your_smtp_password
SMTP_SECURE=true

# OTP settings
OTP_LENGTH=6
OTP_TTL_SECONDS=300
OTP_MAX_ATTEMPTS=5
OTP_COOLDOWN_SECONDS=60

# =========================
# Logs
# =========================
LOG_LEVEL=warn